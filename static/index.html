async function searchPinterest() {
  const kw = document.getElementById('pinterest-search').value;
  if (!kw) return alert('검색어를 입력하세요');

  document.getElementById('pinterest-results').innerHTML =
    '<div style="text-align:center;color:var(--ts);padding:20px 0;">검색 중... ⏳</div>';

  try {
    const res = await fetch(`/api/pinterest/search?query=${encodeURIComponent(kw)}`);
    const data = await res.json();
    if (data.status !== 'success') throw new Error(data.error);

    const imgs = data.images;
    if (!imgs.length) {
      document.getElementById('pinterest-results').innerHTML =
        '<div style="text-align:center;color:var(--ts);padding:20px 0;">결과 없음</div>';
      return;
    }

    document.getElementById('pinterest-results').innerHTML = `
      <div class="slider-container">
        <div class="slider-wrapper">
          <div id="slider">${imgs.map(img => `
            <div class="reference-item" onclick="toggleRef('${img.id}',this)">
              <img src="${img.url}" alt="${img.title}">
              <div class="instagram-checkbox"></div>
            </div>`).join('')}
          </div>
        </div>
        <div class="slider-controls">
          <div class="slider-nav">
            <button onclick="slideL()">←</button>
            <button onclick="slideR()">→</button>
          </div>
          <div class="selected-count" id="sel-count">선택: 0 / ${MAX}</div>
          <div class="selection-controls">
            <button class="sel-btn" onclick="selAll()">전체선택</button>
            <button class="sel-btn" onclick="deselAll()">해제</button>
          </div>
        </div>
      </div>`;
  } catch(e) {
    document.getElementById('pinterest-results').innerHTML =
      `<div style="text-align:center;color:#ff6b6b;padding:20px 0;">에러: ${e.message}</div>`;
  }
}